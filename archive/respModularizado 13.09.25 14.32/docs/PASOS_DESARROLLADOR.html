<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pasos para desarrollador: Autenticación por email</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f8f9fa; }
    h1, h2 { color: #1976d2; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 30px; }
    th, td { border: 1px solid #bbb; padding: 8px; text-align: left; }
    th { background: #e3f2fd; }
    tr:nth-child(even) { background: #f5f5f5; }
    code { background: #e0e0e0; padding: 2px 6px; border-radius: 4px; }
    .step { margin-bottom: 20px; }
    .reco { background: #fffde7; border-left: 4px solid #ffd600; padding: 12px; margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>Pasos para desarrollador: Autenticación por email</h1>

  <h2>¿Para qué sirve cada script?</h2>
  <table>
    <tr><th>Script</th><th>Función principal</th></tr>
    <tr><td><code>setup_local.py</code></td><td>Crea archivos de configuración y usuarios de prueba para desarrollo local</td></tr>
    <tr><td><code>switch_auth.py</code></td><td>Cambia entre modo simplificado (sin email) y completo (con email)</td></tr>
    <tr><td><code>admin_panel.py</code></td><td>Panel web para gestionar usuarios autorizados y ver estadísticas</td></tr>
    <tr><td><code>gestor_emails.py</code></td><td>Interfaz gráfica para agregar, modificar o eliminar emails en <code>secrets_local.toml</code></td></tr>
    <tr><td><code>app.py</code></td><td>Aplicación principal con autenticación y conversión de archivos geoespaciales</td></tr>
    <tr><td><code>auth_simple.py</code></td><td>Sistema de autenticación simplificado (sin email, solo para desarrollo)</td></tr>
    <tr><td><code>auth_system.py</code></td><td>Sistema de autenticación completo (envío de códigos por email)</td></tr>
  </table>

  <h2>Paso a paso para usar la autenticación</h2>
  <div class="step">
    <strong>1. Configura dependencias</strong><br>
    <code>py -3.11 -m pip install -r requirements.txt</code><br>
    <code>py -3.11 -m pip install streamlit-folium</code>
  </div>
  <div class="step">
    <strong>2. Configura autenticación local (desarrollo)</strong><br>
    <code>py -3.11 setup_local.py</code><br>
    <code>py -3.11 switch_auth.py simple</code><br>
    <code>py -3.11 -m streamlit run app.py</code><br>
    Usa los códigos de prueba para acceder.
  </div>
  <div class="step">
    <strong>3. Configura autenticación por email (producción)</strong><br>
    Edita <code>secrets_local.toml</code> con tu email, app password y lista de emails autorizados.<br>
    Usa <code>gestor_emails.py</code> para gestionar emails fácilmente.<br>
    <code>py -3.11 switch_auth.py complete</code><br>
    <code>py -3.11 -m streamlit run app.py</code><br>
    El usuario solicita código y lo ingresa para acceder.
  </div>
  <div class="step">
    <strong>4. Gestiona usuarios</strong><br>
    Usa <code>admin_panel.py</code> para gestión avanzada y estadísticas.<br>
    Usa <code>gestor_emails.py</code> para editar emails autorizados.
  </div>

  <div class="reco">
    <strong>Recomendaciones:</strong><br>
    Mantén <code>secrets_local.toml</code> actualizado.<br>
    Usa el gestor gráfico para evitar errores manuales.<br>
    Aplica estos pasos en cualquier app que requiera autenticación por email.
  </div>
</body>
</html>
